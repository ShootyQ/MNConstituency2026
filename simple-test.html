<!DOCTYPE html>
<html>
<head>
    <title>Simple Firebase Test</title>
</head>
<body>
    <h1>Firebase Auth Test</h1>
    <button id="signInBtn" style="padding: 20px; font-size: 18px; background: #0d7c8c; color: white; border: none; cursor: pointer;">Sign In With Google</button>
    <div id="status" style="margin-top: 20px; padding: 20px; background: #f0f0f0;"></div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithPopup, GoogleAuthProvider } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyDqyHy2xjYxiAIZzbBRyGsyQ5hIKCsL6Nc",
            authDomain: "mnconstituency2026.firebaseapp.com",
            projectId: "mnconstituency2026",
            storageBucket: "mnconstituency2026.firebasestorage.app",
            messagingSenderId: "890565300503",
            appId: "1:890565300503:web:8ea64d66e2640b4deb2752"
        };

        const status = document.getElementById('status');
        status.innerHTML = 'Initializing Firebase...';

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        status.innerHTML = 'Firebase initialized âœ“<br>Click button to sign in';

        document.getElementById('signInBtn').addEventListener('click', async () => {
            status.innerHTML = 'Opening Google popup...';
            try {
                const result = await signInWithPopup(auth, provider);
                status.innerHTML = `SUCCESS!<br>Signed in as: ${result.user.email}<br>Name: ${result.user.displayName}`;
            } catch (error) {
                status.innerHTML = `ERROR: ${error.code}<br>${error.message}<br><pre>${JSON.stringify(error, null, 2)}</pre>`;
            }
        });
    </script>
</body>
</html>
